# Database Anomalies (‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡ßã‡¶Æ‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø)

Database‚Äì‡¶è ‡¶Ø‡¶ñ‡¶® ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® ‡¶ì Normalization ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º ‡¶®‡¶æ,  
‡¶è‡¶¨‡¶Ç ‡¶è‡¶ï ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤‡ßá ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶ß‡¶∞‡¶®‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡¶Ø‡¶º,  
‡¶§‡¶ñ‡¶® ‡¶°‡ßá‡¶ü‡¶æ Insert, Update ‡¶¨‡¶æ Delete ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶¶‡ßá‡¶Ø‡¶º‡•§  
‡¶è‡¶á ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡¶ó‡ßÅ‡¶≤‡ßã‡¶ï‡ßá‡¶á **Database Anomalies** ‡¶¨‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡•§

---

## Anomaly ‡¶ï‡ßÄ?
**Anomaly** ‡¶π‡¶≤‡ßã ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏‡ßá‡¶∞ ‡¶è‡¶Æ‡¶® ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ,  
‡¶Ø‡¶æ‡¶∞ ‡¶´‡¶≤‡ßá ‡¶°‡ßá‡¶ü‡¶æ:
- ‡¶≠‡ßÅ‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶π‡¶Ø‡¶º  
- ‡¶Ö‡¶∏‡¶ô‡ßç‡¶ó‡¶§ (Inconsistent) ‡¶π‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶Ø‡¶º  
- ‡¶Ö‡¶•‡¶¨‡¶æ ‡¶Ö‡¶ú‡¶æ‡¶®‡ßç‡¶§‡ßá ‡¶π‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶Ø‡¶º  

---

## Anomalies ‡¶ï‡ßá‡¶® ‡¶π‡¶Ø‡¶º?
Database Anomalies ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ ‡¶π‡¶Ø‡¶º ‡¶Ø‡¶ñ‡¶®:
- Table **Properly Normalized ‡¶®‡¶æ**
- ‡¶è‡¶ï‡¶á ‡¶°‡ßá‡¶ü‡¶æ ‡¶¨‡¶æ‡¶∞‡¶¨‡¶æ‡¶∞ (Redundancy) ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡¶Ø‡¶º  
- ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤‡ßá ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï Entity‚Äì‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡¶Ø‡¶º  

---

## Anomalies ‡¶è‡¶∞ ‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∞‡¶≠‡ßá‡¶¶

Database‚Äì‡¶è ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶®‡¶§ **‡ß© ‡¶ß‡¶∞‡¶®‡ßá‡¶∞ Anomalies** ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º:

1. Insert Anomaly  
2. Update Anomaly  
3. Delete Anomaly  

---

## Unnormalized Table (‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶®)

‡¶ß‡¶∞‡¶ø, ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶Ü‡¶õ‡ßá ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá Student, Course ‡¶ì Teacher ‡¶§‡¶•‡ßç‡¶Ø ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá:

```sql
CREATE TABLE StudentCourse (
    StudentID INT,
    StudentName VARCHAR(50),
    CourseName VARCHAR(50),
    TeacherName VARCHAR(50)
);
INSERT INTO StudentCourse VALUES
(101, 'Rahim', 'DBMS', 'Karim'),
(102, 'Karima', 'OOP', 'Hasan'),
(103, 'Salma', 'DBMS', 'Karim');

```
---

## 1.Insert Anomaly
Insert Anomaly ‡¶ï‡ßÄ?

‡¶®‡¶§‡ßÅ‡¶® ‡¶°‡ßá‡¶ü‡¶æ insert ‡¶ï‡¶∞‡¶§‡ßá ‡¶ó‡ßá‡¶≤‡ßá ‡¶Ø‡¶ñ‡¶®
‡¶Ö‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßÄ‡¶Ø‡¶º ‡¶¨‡¶æ ‡¶Ö‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡¶ø‡¶§‡ßá ‡¶¨‡¶æ‡¶ß‡ßç‡¶Ø ‡¶π‡¶§‡ßá ‡¶π‡¶Ø‡¶º,
‡¶§‡¶ñ‡¶® ‡¶§‡¶æ‡¶ï‡ßá Insert Anomaly ‡¶¨‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡•§

Insert Anomaly ‚Äì SQL Example

‡¶ß‡¶∞‡¶ø:

‡¶®‡¶§‡ßÅ‡¶® Course = AI

‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡ßã‡¶®‡ßã Student ‡¶®‡ßá‡¶á

```sql
INSERT INTO StudentCourse (CourseName, TeacherName)
VALUES ('AI', 'Dr. Rahman');
```
‚ùå Error ‡¶π‡¶¨‡ßá, ‡¶ï‡¶æ‡¶∞‡¶£:

StudentID ‡¶ì StudentName ‡¶®‡¶æ ‡¶¶‡¶ø‡¶≤‡ßá row insert ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º ‡¶®‡¶æ

## Insert Anomaly ‡¶è‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ

Course ‡¶•‡¶æ‡¶ï‡¶≤‡ßá‡¶ì Student ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º ‡¶®‡¶æ

Fake ‡¶¨‡¶æ NULL ‡¶°‡ßá‡¶ü‡¶æ ‡¶¶‡¶ø‡¶§‡ßá ‡¶¨‡¶æ‡¶ß‡ßç‡¶Ø ‡¶π‡¶§‡ßá ‡¶π‡¶Ø‡¶º

## Insert Anomaly ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶® (Normalized Design)
```sql 
CREATE TABLE Course (
    CourseID INT PRIMARY KEY,
    CourseName VARCHAR(50)
);

CREATE TABLE Teacher (
    TeacherID INT PRIMARY KEY,
    TeacherName VARCHAR(50)
);

INSERT INTO Course VALUES (1, 'AI');

‚úÖ ‡¶è‡¶ñ‡¶® Student ‡¶õ‡¶æ‡¶°‡¶º‡¶æ‡¶á Course insert ‡¶ï‡¶∞‡¶æ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨

```

---


##  2. Update Anomaly
Update Anomaly ‡¶ï‡ßÄ?

‡¶è‡¶ï‡¶á ‡¶§‡¶•‡ßç‡¶Ø ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï row‚Äì‡¶è ‡¶•‡¶æ‡¶ï‡¶≤‡ßá
‡¶è‡¶ï ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ‡¶Ø‡¶º update ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ‡¶Ø‡¶º update ‡¶®‡¶æ ‡¶ï‡¶∞‡¶≤‡ßá
‡¶°‡ßá‡¶ü‡¶æ ‡¶Ö‡¶∏‡¶ô‡ßç‡¶ó‡¶§ ‡¶π‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶Ø‡¶º‚Äî‡¶è‡¶ü‡¶æ‡¶á Update Anomaly‡•§

### Update Anomaly ‚Äì SQL Example

‡¶ß‡¶∞‡¶ø, Teacher Karim ‡¶è‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶π‡¶Ø‡¶º‡ßá Karim Ahmed ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§
```sql
UPDATE StudentCourse
SET TeacherName = 'Karim Ahmed'
WHERE StudentID = 101;
```
‚ùå ‡¶è‡¶ñ‡¶® ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá:

StudentID 101 ‚Üí Karim Ahmed

StudentID 103 ‚Üí Karim (‡¶™‡ßÅ‡¶∞‡¶®‡ßã ‡¶®‡¶æ‡¶Æ)

üëâ ‡¶è‡¶ï‡¶á Teacher‚Äì‡¶è‡¶∞ ‡¶¶‡ßÅ‡¶á‡¶ü‡¶ø ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶®‡¶æ‡¶Æ ‚ùå

### Update Anomaly ‡¶è‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ

Data inconsistency

‡¶≠‡ßÅ‡¶≤ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ì ‡¶∏‡¶ø‡¶¶‡ßç‡¶ß‡¶æ‡¶®‡ßç‡¶§

### Update Anomaly ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®
```
CREATE TABLE Teacher (
    TeacherID INT PRIMARY KEY,
    TeacherName VARCHAR(50)
);

UPDATE Teacher
SET TeacherName = 'Karim Ahmed'
WHERE TeacherID = 1;

‚úÖ ‡¶è‡¶ï ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ‡¶Ø‡¶º update ‡¶ï‡¶∞‡¶≤‡ßá‡¶á ‡¶∏‡¶¨‡¶ñ‡¶æ‡¶®‡ßá reflect ‡¶ï‡¶∞‡¶¨‡ßá

```

---



## 3. Delete Anomaly
Delete Anomaly ‡¶ï‡ßÄ?

‡¶ï‡ßã‡¶®‡ßã ‡¶°‡ßá‡¶ü‡¶æ delete ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Ø‡¶¶‡¶ø
‡¶Ö‡¶®‡ßç‡¶Ø ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞‡¶ø ‡¶§‡¶•‡ßç‡¶Ø‡¶ì ‡¶Ö‡¶ú‡¶æ‡¶®‡ßç‡¶§‡ßá ‡¶π‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶Ø‡¶º,
‡¶§‡¶ñ‡¶® ‡¶§‡¶æ‡¶ï‡ßá Delete Anomaly ‡¶¨‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡•§

### Delete Anomaly ‚Äì SQL Example
```sql
‡¶ß‡¶∞‡¶ø, DBMS ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡ßá ‡¶è‡¶ï‡¶ú‡¶® Student ‡¶Ü‡¶õ‡ßá:

DELETE FROM StudentCourse
WHERE StudentID = 101;

‚ùå ‡¶è‡¶∞ ‡¶´‡¶≤‡ßá:

Course = DBMS

Teacher = Karim

‡¶è‡¶á ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶§‡¶•‡ßç‡¶Ø‡¶ó‡ßÅ‡¶≤‡ßã‡¶ì ‡¶π‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§
```

### Delete Anomaly ‡¶è‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ

‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡ßç‡¶•‡¶æ‡¶Ø‡¶º‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶®‡¶∑‡ßç‡¶ü ‡¶π‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶Ø‡¶º

### Delete Anomaly ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®
```sql
CREATE TABLE Student (
    StudentID INT PRIMARY KEY,
    StudentName VARCHAR(50)
);

CREATE TABLE Course (
    CourseID INT PRIMARY KEY,
    CourseName VARCHAR(50)
);

üëâ Student delete ‡¶π‡¶≤‡ßá‡¶ì Course ‡¶ì Teacher ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤‡ßá ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá ‚úÖ

```

### Anomalies ‡¶¶‡ßÇ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶â‡¶™‡¶æ‡¶Ø‡¶º

Database Anomalies ‡¶¶‡ßÇ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶â‡¶™‡¶æ‡¶Ø‡¶º ‡¶π‡¶≤‡ßã:

Proper Normalization

Table ‡¶ï‡ßá 1NF ‚Üí 2NF ‚Üí 3NF ‡¶è ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ

Redundant data ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã

| Anomaly Type   | ‡¶ï‡ßÄ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º            |
| -------------- | ------------------------ |
| Insert Anomaly | ‡¶®‡¶§‡ßÅ‡¶® ‡¶°‡ßá‡¶ü‡¶æ ‡¶¢‡ßã‡¶ï‡¶æ‡¶®‡ßã ‡¶Ø‡¶æ‡¶Ø‡¶º ‡¶®‡¶æ |
| Update Anomaly | ‡¶°‡ßá‡¶ü‡¶æ ‡¶Ö‡¶∏‡¶ô‡ßç‡¶ó‡¶§ ‡¶π‡¶Ø‡¶º          |
| Delete Anomaly | ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞‡¶ø ‡¶°‡ßá‡¶ü‡¶æ ‡¶π‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶Ø‡¶º |

---
